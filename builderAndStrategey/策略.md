# 策略模式

中文解释为:定义一组算法，然后将这些算法封装起来，以便它们之间可以互换，属于一种对象行为型模式。总的来说策略模式是一种比较简单的模式，听起来可能有点费劲，其实就是定义一组通用算法的上层接口，各个算法实现类实现该算法接口，封装模块使用类似于 Context 的概念，Context 暴漏一组接口，Context 内部接口委托到抽象算法层。

![31D1C82E-0458-4766-8C61-7B2999A85927.png](http://ww1.sinaimg.cn/large/9e58a4edly1gg80yialmgj20gn07e0tj.jpg)


包含的角色罗列如下:

- 上下文角色(Context)：该角色一般是一个实现类或者封装类，起到一定的封装及隔离作用，实际接受请求并将请求委托给实际的算法实现类处理，避免外界对底层策略的直接访问。
- 抽象策略角色( Strategy)：该角色一般是一个抽象角色，为接口或者抽象类扮演，定义具体策略角色的公共接口。
- 具体策略角色( ConcreteStrategy)：实现抽象策略角色的接口，为策略的具体实现类。


### 策略模式的优点如下:

- 所有策略放入一组抽象策略接口中，方便统一管理与实现。
### 策略模式的缺点如下:

- 策略模式每种策略都是单独类，策略很多时策略实现类数量也很可观。
- 客户端初始化 Context 的时候需要指定策略类，这样就要求客户端要熟悉各个策略，对调用方要求较高。


### 策略模式的应用场景如下:

- 需要自由切换算法的场景
- 需要屏蔽算法实现细节的场景


**现在我们有 4 种鸭子，它们虽然都是鸭子，但是有的能飞又能叫，有的只能叫不能飞，有的不能飞也不能叫。这让我们前台调用方法的人就很难受。这种情况下，我们就可以发挥策略模式的优势，来给他们自由组合我们的算法。**

![8B6BCB6E-186B-4EAC-8475-275416B2C356.png](http://ww1.sinaimg.cn/large/9e58a4edly1gg815egybfj20wd0cpdih.jpg)


![B78EF029-BD47-4DD1-BFD1-0A2CB7692D81.png](http://ww1.sinaimg.cn/large/9e58a4edly1gg820cyvo6j20to0hjq5g.jpg)